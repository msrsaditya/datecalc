<!DOCTYPE html><html lang=en-GB><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Calculate the difference between two dates, excluding selected weekdays, and see results in days, weeks, months, and years."><meta http-equiv=Permissions-Policy content="camera=(), microphone=(), geolocation=()"><title>Date Calculator</title><style>*{box-sizing:border-box;margin:0;padding:0}body,html{height:100%}body{display:flex;align-items:center;justify-content:center;font-family:sans-serif;background:#fafafa;padding:.5rem}main{background:#fff;width:90vw;max-width:360px;padding:1rem;border-radius:6px;box-shadow:0 2px 6px #0001}h1{font-size:1.25rem;text-align:center;color:#333;margin-bottom:1rem}label{display:block;font-size:.9rem;color:#444;margin-bottom:.25rem}button,input[type=date]{width:100%;min-height:48px;font-size:1rem;padding:.75rem;margin-bottom:.75rem;border:1px solid #ccc;border-radius:4px;background:#fff;cursor:pointer}button{border:0;background:#5c6bc0;color:#fff}button:disabled{background:#ccc;cursor:not-allowed}details{margin-bottom:.75rem}summary{cursor:pointer;padding:.75rem;font-size:1rem;border-radius:4px;list-style:none}summary::-webkit-details-marker{display:none}summary:after{content:'▾';float:right;font-size:.8rem;color:#666}details[open] summary:after{content:'▴'}#excludeDropdown{margin-bottom:.75rem}#excludeContainer{padding:.5rem;border:1px solid #ddd;border-radius:4px;background:#f9f9f9;margin-top:.25rem}#excludeContainer p{font-size:.9rem;font-weight:500;margin-bottom:.5rem}.day-list{display:flex;flex-direction:column}.day-list label{display:inline-flex;align-items:center;margin-bottom:.5rem;font-size:.9rem;color:#444;cursor:pointer}.day-list input{margin-right:6px;width:16px;height:16px;border:1px solid #888;border-radius:3px;appearance:none;cursor:pointer}.day-list input:checked::after{content:'';display:block;width:6px;height:10px;border:solid #333;border-width:0 2px 2px 0;transform:rotate(45deg);position:relative;top:1px;left:4px}#result{display:grid;grid-template-columns:max-content 1fr;column-gap:1rem;row-gap:.5rem;margin-top:1rem}.label{justify-self:end;font-weight:700;font-size:.9rem;color:#222}.value{white-space:nowrap;font-size:.9rem;color:#222}@media(max-width:359px){#result{grid-template-columns:1fr}.label{justify-self:start;margin-bottom:.25rem}.value{margin-bottom:.75rem}}</style></head><body><main><h1>Date Calculator</h1><form><label for=start>Start Date</label><input type=date id=start><label for=end>End Date</label><input type=date id=end><details id=excludeDropdown><summary>Exclude Days</summary><div id=excludeContainer><p>Days to Exclude:</p><div class=day-list><label for=monday><input type=checkbox id=monday value=1>Monday</label><label for=tuesday><input type=checkbox id=tuesday value=2>Tuesday</label><label for=wednesday><input type=checkbox id=wednesday value=3>Wednesday</label><label for=thursday><input type=checkbox id=thursday value=4>Thursday</label><label for=friday><input type=checkbox id=friday value=5>Friday</label><label for=saturday><input type=checkbox id=saturday value=6>Saturday</label><label for=sunday><input type=checkbox id=sunday value=0>Sunday</label></div></div></details><button type=button id=go disabled>Calculate</button></form><div id=result aria-live=polite></div></main><script>!function(){const a=document.getElementById("start"),b=document.getElementById("end"),c=document.querySelector(".day-list"),d=document.getElementById("go"),e=document.getElementById("result"),f=document.querySelector("summary"),g=document.getElementById("excludeDropdown"),h=(n,o)=>`${n} ${o}${1===n?"":"s"}`;[a,b].forEach(j=>j.addEventListener("change",()=>d.disabled=!(a.value&&b.value)));c.querySelectorAll("input").forEach(j=>j.addEventListener("change",()=>{const k=c.querySelectorAll("input:checked").length;f.textContent=`Exclude Days${k?` (${k})`:""}`}));d.addEventListener("click",()=>{g.open=!1;let j=a.valueAsDate,k=b.valueAsDate;if(k<j)[j,k]=[k,j];const l=864e5,m=Math.floor((k-j)/l)+1,n=Array.from(c.querySelectorAll("input:checked")).map(p=>+p.value);let o=0;for(let p=new Date(j);p<=k;p.setDate(p.getDate()+1))n.includes(p.getDay())||o++;const q=Math.floor(o/7),r=o%7,s=`${h(q,"week")}${r?`, ${h(r,"day")}`:``}`,t=Math.floor(o/30),u=o%30,v=Math.floor(u/7),w=u%7,x=`${h(t,"month")}${v?`, ${h(v,"week")}`:``}${w?`, ${h(w,"day")}`:``}`,y=Math.floor(o/360),z=o%360,A=Math.floor(z/30),B=`${h(y,"year")}${A?`, ${h(A,"month")}`:``}`,C=m-o,D=h(C,"day");e.innerHTML=`<span class="label">Days:</span><span class="value">${h(o,"day")}</span><span class="label">Weeks:</span><span class="value">${s}</span><span class="label">Months:</span><span class="value">${x}</span><span class="label">Years:</span><span class="value">${B}</span><span class="label">Excluded:</span><span class="value">${D}</span>`})}();
</script></body></html>
